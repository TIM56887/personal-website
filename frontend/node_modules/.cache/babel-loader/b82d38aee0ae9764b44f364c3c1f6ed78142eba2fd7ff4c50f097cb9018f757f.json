{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nconst actions = {\n  SendTodo(context, value) {\n    axios.post('http://localhost:8081/addtodo', value).then(response => {\n      console.log('請求成功了，這是資料庫回傳的data', response.data);\n      localStorage.setItem('userId', response.data.userid);\n      context.dispatch('gettodo');\n    }, error => {\n      console.log('請求失敗了', error.message);\n    });\n  },\n  gettodo(context) {\n    axios.get('http://localhost:8081/todo').then(response => {\n      console.log('請求成功了', response.data);\n      context.commit('GETTODO', response.data);\n    }, error => {\n      console.log('請求失敗了', error.message);\n    });\n  },\n  deletetodo(context, id) {\n    axios.post('http://localhost:8081/deletetodo', {\n      'id': id\n    }).then(response => {\n      console.log('請求成功了', response.data);\n      context.dispatch('gettodo');\n    }, error => {\n      console.log('請求失敗了', error.message);\n    });\n  },\n  getusertodo(context, userid) {\n    axios.post('http://localhost:8081/getUserTodo', {\n      'userid': userid\n    }).then(response => {\n      console.log('請求成功了，這是資料庫回傳的usertodo', response.data);\n      const userstodo = response.data.map(function (item) {\n        return item.id;\n      });\n      context.commit('GETUSERTODO', userstodo);\n      // localStorage.setItem('userId', response.data.userid);\n      // context.dispatch('gettodo')\n    }, error => {\n      console.log('請求失敗了', error.message);\n    });\n  }\n};\nconst mutations = {\n  SENDTODO(state, value) {\n    state.todo.push(value);\n  },\n  GETTODO(state, value) {\n    state.todo = value;\n  },\n  GETUSERTODO(state, value) {\n    Vue.set(state, 'userstodo', value);\n  }\n};\nconst state = {\n  todo: [],\n  userstodo: []\n};\nconst store = new Vuex.Store({\n  actions,\n  mutations,\n  state\n});\nexport default store;","map":{"version":3,"names":["Vue","Vuex","axios","use","actions","SendTodo","context","value","post","then","response","console","log","data","localStorage","setItem","userid","dispatch","error","message","gettodo","get","commit","deletetodo","id","getusertodo","userstodo","map","item","mutations","SENDTODO","state","todo","push","GETTODO","GETUSERTODO","set","store","Store"],"sources":["C:/Users/User/Desktop/project/my-portfolio/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\nVue.use(Vuex)\r\nconst actions = {\r\n    SendTodo(context,value){\r\n        axios.post('http://localhost:8081/addtodo',value).then(\r\n            response =>{\r\n                console.log('請求成功了，這是資料庫回傳的data',response.data)\r\n                localStorage.setItem('userId', response.data.userid);\r\n                context.dispatch('gettodo')\r\n            },\r\n            error => {\r\n                console.log('請求失敗了',error.message)\r\n            }\r\n        )\r\n        \r\n    },\r\n    gettodo(context){\r\n        axios.get('http://localhost:8081/todo').then(\r\n            response =>{\r\n                console.log('請求成功了',response.data)\r\n                context.commit('GETTODO',response.data)\r\n            },\r\n            error => {\r\n                console.log('請求失敗了',error.message)\r\n            }\r\n        )\r\n    },\r\n    deletetodo(context,id){\r\n        axios.post('http://localhost:8081/deletetodo',{'id': id}).then(\r\n            response =>{\r\n                console.log('請求成功了',response.data)\r\n                context.dispatch('gettodo')\r\n            },\r\n            error => {\r\n                console.log('請求失敗了',error.message)\r\n            }\r\n        )\r\n    },\r\n    getusertodo(context,userid){\r\n        axios.post('http://localhost:8081/getUserTodo',{'userid':userid}).then(\r\n            response =>{\r\n                console.log('請求成功了，這是資料庫回傳的usertodo',response.data)\r\n                const userstodo = response.data.map(function(item) {\r\n                    return item.id;\r\n                })\r\n                context.commit('GETUSERTODO',userstodo)\r\n                // localStorage.setItem('userId', response.data.userid);\r\n                // context.dispatch('gettodo')\r\n            },\r\n            error => {\r\n                console.log('請求失敗了',error.message)\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    SENDTODO(state,value){\r\n        state.todo.push(value)\r\n    },\r\n    GETTODO(state,value){\r\n        state.todo=value\r\n    },\r\n    GETUSERTODO(state,value){\r\n        Vue.set(state, 'userstodo', value);\r\n    }\r\n}\r\n\r\nconst state = {\r\n    todo:[],\r\n    userstodo:[]\r\n}\r\n\r\n\r\nconst store = new Vuex.Store({\r\n    actions,\r\n    mutations,\r\n    state\r\n})\r\n\r\nexport default store"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}