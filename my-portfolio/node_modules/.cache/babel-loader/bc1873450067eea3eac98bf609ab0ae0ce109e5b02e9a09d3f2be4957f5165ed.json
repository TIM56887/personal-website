{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nconst actions = {\n  SendTodo(context, value) {\n    axios.post('/addtodo', value).then(response => {\n      console.log('請求成功了', response.data);\n      localStorage.setItem('userId', response.data.userid);\n      context.state.userstodo.push(response.data.contentid);\n      context.dispatch('gettodo');\n    }, error => {\n      console.log('請求失敗', error.message);\n    });\n  },\n  gettodo(context) {\n    axios.get('/todo').then(response => {\n      context.commit('GETTODO', response.data);\n    }, error => {\n      console.log('請求失敗', error.message);\n    });\n  },\n  deletetodo(context, id) {\n    axios.post('/deletetodo', {\n      'id': id\n    }).then(response => {\n      console.log('請求成功', response.data);\n      context.dispatch('gettodo');\n    }, error => {\n      console.log('請求失敗了', error.message);\n    });\n  },\n  edittodo(context, value) {\n    console.log(value);\n    axios.post('/editTodo', value).then(response => {\n      console.log('請求成功', response.data);\n      context.commit('EDITTODO', value);\n    }, error => {\n      console.log('哇靠!請求失敗了', error.message);\n    });\n  },\n  getusertodo(context, userid) {\n    axios.post('/getUserTodo', {\n      'userid': userid\n    }).then(response => {\n      const userstodo = response.data.map(function (item) {\n        return item.id;\n      });\n      context.commit('GETUSERTODO', userstodo);\n    }, error => {\n      console.log('請求失敗', error.message);\n    });\n  },\n  sendComment(context, value) {\n    axios.post('/sendcomment', value).then(error => {\n      console.log('請求失敗', error.message);\n    });\n    context.dispatch('getComment');\n  },\n  getComment(context) {\n    axios.get('/getcomment').then(response => {\n      context.commit('GETCOMMENT', response.data);\n    }, error => {\n      console.log('請求失敗', error.message);\n    });\n  },\n  updateComment(context, value) {\n    console.log(value);\n    axios.post('/updatecomment', value).then(response => console.log(response));\n    context.commit('UPDATECOMMENT', value);\n  }\n};\nconst mutations = {\n  SENDTODO(state, value) {\n    state.todo.push(value);\n  },\n  GETTODO(state, value) {\n    state.todo = value;\n  },\n  GETUSERTODO(state, value) {\n    Vue.set(state, 'userstodo', value);\n  },\n  EDITTODO(state, value) {\n    let obj = state.todo.find(item => item.id === value.id);\n    obj.task = value.content;\n  },\n  SENDCOMMENT(state, value) {\n    state.comments.push(value);\n  },\n  GETCOMMENT(state, value) {\n    state.comments = value;\n  },\n  UPDATECOMMENT(state, value) {\n    let targetComment = state.comments.find(comment => comment.commentId === value.commentId);\n    console.log(targetComment);\n  }\n};\nconst state = {\n  todo: [],\n  userstodo: [],\n  comments: []\n};\nconst store = new Vuex.Store({\n  actions,\n  mutations,\n  state\n});\nexport default store;","map":{"version":3,"names":["Vue","Vuex","axios","use","actions","SendTodo","context","value","post","then","response","console","log","data","localStorage","setItem","userid","state","userstodo","push","contentid","dispatch","error","message","gettodo","get","commit","deletetodo","id","edittodo","getusertodo","map","item","sendComment","getComment","updateComment","mutations","SENDTODO","todo","GETTODO","GETUSERTODO","set","EDITTODO","obj","find","task","content","SENDCOMMENT","comments","GETCOMMENT","UPDATECOMMENT","targetComment","comment","commentId","store","Store"],"sources":["C:/Users/User/Desktop/personalweb/my-portfolio/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\nVue.use(Vuex)\r\nconst actions = {\r\n    SendTodo(context,value){\r\n        axios.post('/addtodo',value).then(\r\n            response =>{\r\n                console.log('請求成功了',response.data)\r\n                localStorage.setItem('userId', response.data.userid);\r\n                context.state.userstodo.push(response.data.contentid)\r\n                context.dispatch('gettodo')\r\n            },\r\n            error => {\r\n                console.log('請求失敗',error.message)\r\n            }\r\n        )\r\n        \r\n    },\r\n    gettodo(context){\r\n        axios.get('/todo').then(\r\n            response =>{\r\n                \r\n                context.commit('GETTODO',response.data)\r\n            },\r\n            error => {\r\n                console.log('請求失敗',error.message)\r\n            }\r\n        )\r\n    },\r\n    deletetodo(context,id){\r\n        axios.post('/deletetodo',{'id': id}).then(\r\n            response =>{\r\n                console.log('請求成功',response.data)\r\n                context.dispatch('gettodo')\r\n            },\r\n            error => {\r\n                console.log('請求失敗了',error.message)\r\n            }\r\n        )\r\n    },\r\n    edittodo(context,value) {\r\n        console.log(value)\r\n        axios.post('/editTodo',value).then(\r\n            response =>{\r\n                console.log('請求成功',response.data)\r\n                context.commit('EDITTODO',value)\r\n            },\r\n            error => {\r\n                console.log('哇靠!請求失敗了',error.message)\r\n            }\r\n        )\r\n    },\r\n    getusertodo(context,userid){\r\n        axios.post('/getUserTodo',{'userid':userid}).then(\r\n            response =>{\r\n                \r\n                const userstodo = response.data.map(function(item) {\r\n                    return item.id;\r\n                })\r\n                context.commit('GETUSERTODO',userstodo)\r\n\r\n            },\r\n            error => {\r\n                console.log('請求失敗',error.message)\r\n            }\r\n        )\r\n    },\r\n    sendComment(context,value){\r\n        axios.post('/sendcomment',value).then(\r\n            error => {\r\n                console.log('請求失敗',error.message)\r\n            }\r\n        )\r\n        context.dispatch('getComment')\r\n\r\n    },\r\n    getComment(context){\r\n        axios.get('/getcomment').then(\r\n            response =>{\r\n                context.commit('GETCOMMENT',response.data)\r\n            },\r\n            error => {\r\n                console.log('請求失敗',error.message)\r\n            }\r\n        )\r\n    },\r\n    updateComment(context, value){\r\n        console.log(value)\r\n        axios.post('/updatecomment',value).then(\r\n            response => console.log(response)\r\n        );\r\n        context.commit('UPDATECOMMENT', value)\r\n        \r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    SENDTODO(state,value){\r\n        state.todo.push(value)\r\n    },\r\n    GETTODO(state,value){\r\n        state.todo=value\r\n    },\r\n    GETUSERTODO(state,value){\r\n        Vue.set(state, 'userstodo', value);\r\n    },\r\n    EDITTODO(state,value){\r\n        let obj = state.todo.find(item => item.id === value.id);\r\n        obj.task =  value.content\r\n    },\r\n    SENDCOMMENT(state, value){\r\n        state.comments.push(value)\r\n    },\r\n    GETCOMMENT(state,value){\r\n        state.comments = value\r\n    },\r\n    UPDATECOMMENT(state,value){\r\n        let targetComment = state.comments.find( comment => comment.commentId === value.commentId)\r\n        console.log(targetComment)\r\n    }\r\n    \r\n}\r\n\r\nconst state = {\r\n    todo:[],\r\n    userstodo:[],\r\n    comments:[]\r\n    \r\n}\r\n\r\n\r\nconst store = new Vuex.Store({\r\n    actions,\r\n    mutations,\r\n    state\r\n})\r\n\r\nexport default store"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}